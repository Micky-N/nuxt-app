import{z as S,v as D,C as A,R as B,D as P,L as T,A as i,f as l,H as e,w as o,E as V,e as c,h as r,g as a,S as E,U as N,V as q,G as d,t as p,M as z,K as H,W as I,X as M}from"#entry";import{_ as R,a as j}from"./JK7XUX7X.js";import{_ as L}from"./BA1vsI8B.js";import{_ as X,a as G}from"./B5HEZOn7.js";import{u as f}from"./pAJWmt-2.js";import{q as K,a as W}from"./aEwTZPiL.js";import"./uCksbzM3.js";import"./iik6CYzq.js";const F=["src"],J={class:"text-muted"},O={class:"flex flex-wrap items-center gap-3 mt-4"},it=S({__name:"[slug]",async setup(Q){let s,u;const n=D(),{data:t}=([s,u]=A(()=>f(n.path,()=>K("posts").path(n.path).first(),"$-EmEa3i_tX")),s=await s,u(),s);if(!t.value)throw B({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:_}=f(`${n.path}-surround`,()=>W("posts",n.path,{fields:["description"]}));return P({title:t.value.title,description:t.value.seo.description,keywords:t.value.seo.keywords,author:t.value.author.name,ogTitle:t.value.title,ogDescription:t.value.seo.description,ogImage:t.value.image.src,ogType:"article",ogUrl:t.value.seo.url,twitterCard:t.value.seo.card,twitterTitle:t.value.title,twitterDescription:t.value.seo.description,twitterImage:t.value.image.src}),T({htmlAttrs:{lang:t.value?.seo.lang||"fr"},link:[{rel:"canonical",href:t.value.seo.url}]}),(Y,m)=>{const g=z,v=q,h=E,y=R,k=L,w=M,C=X,$=j,U=G,x=H,b=V;return e(t)?(c(),i(b,{key:0},{default:o(()=>[r("img",{src:e(t).image.src,class:"w-full aspect-video max-h-[32rem] object-cover object-center"},null,8,F),a(y,{title:e(t).title,description:e(t).description},{headline:o(()=>[a(g,d(e(t).badge,{variant:"subtle"}),null,16),m[0]||(m[0]=r("span",{class:"text-muted"},"Â·",-1)),r("time",J,p(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:o(()=>[r("div",O,[a(h,{to:e(t).author.to,color:"neutral",variant:"subtle",target:"_blank",size:"sm"},{default:o(()=>[a(v,d(e(t).author.avatar,{alt:"Author avatar",size:"sm"}),null,16),N(" "+p(e(t).author.name),1)]),_:1},8,["to"])])]),_:1},8,["title","description"]),a(x,null,I({default:o(()=>[a($,null,{default:o(()=>[e(t)?(c(),i(k,{key:0,value:e(t)},null,8,["value"])):l("",!0),e(_)?.length?(c(),i(w,{key:1})):l("",!0),a(C,{surround:e(_)},null,8,["surround"])]),_:1})]),_:2},[e(t)?.body?.toc?.links?.length?{name:"right",fn:o(()=>[a(U,{links:e(t).body.toc.links},null,8,["links"])]),key:"0"}:void 0]),1024)]),_:1})):l("",!0)}}});export{it as default};
